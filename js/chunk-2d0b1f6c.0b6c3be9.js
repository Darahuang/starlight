(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b1f6c"],{"21a8":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),s("div",{staticClass:"container",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"row mt-md-4 flex-sm-row-reverse"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"text-center bg-cover"},[s("img",{staticClass:"img-fluid mt-md-4 productImg",attrs:{src:t.oneProduct.imageUrl,alt:"產品圖片",srcset:""}})])]),s("div",{staticClass:"col-md-4"},[s("div",[s("h1",{staticClass:"h4 my-4 font-weight-bolder text-primary"},[t._v(" "+t._s(t.oneProduct.title)+" ")]),s("span",{staticClass:"tag bg-accent p-2 rounded"},[t._v(" "+t._s(t.oneProduct.category)+" ")]),s("div",{staticClass:"my-4"},[s("p",{staticClass:"line-height"},[t._v(t._s(t.oneProduct.description))])]),s("div",{staticClass:"d-flex align-items-end mt-3"},[t.oneProduct.price?s("del",[t._v("原價"+t._s(t._f("currencyFilter")(t.oneProduct.origin_price))+"元")]):t._e(),s("div",{staticClass:"mb-0 ml-auto h4 text-danger"},[s("small",[t._v("特價")]),t.oneProduct.price?s("strong",[t._v(t._s(t._f("currencyFilter")(t.oneProduct.price))+"元")]):t._e()])]),s("div",{staticClass:"input-group mt-4"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.num=e.target.multiple?s:s[0]}}},t._l(10,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+t._s(t.oneProduct.unit)+" ")])})),0)]),s("div",{staticClass:"text-secondary text-nowrap mt-3 text-right"},[t._v(" 小計 "),t.num?s("strong",{staticClass:"h3"},[t._v(t._s(t._f("currencyFilter")(t.num*t.oneProduct.price)))]):t._e(),t._v("元 ")]),s("hr"),s("div",{staticClass:"d-flex justify-content-between"},[s("button",{staticClass:"btn btn-outline-primary mr-3",attrs:{type:"button",disabled:t.checkFavStatus(t.oneProduct)},on:{click:function(e){return t.checkFavList(t.oneProduct.id)}}},[s("i",{staticClass:"fas fa-heart text-danger"}),t.checkFavStatus(t.oneProduct)?s("span",{staticClass:"ml-1"},[t._v("已加入收藏")]):s("span",{staticClass:"ml-1"},[t._v("加入收藏")])]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.disable},on:{click:function(e){return t.addtoCart(t.oneProduct.id,t.num)}}},[s("i",{staticClass:"fas fa-shopping-cart"}),s("span",{staticClass:"ml-1"},[t._v("加入購物車")])])])])])]),s("div",{staticClass:"row mt-4"},[t._m(0),s("div",{staticClass:"col-12"},[s("div",{staticClass:"tab-content p-2",attrs:{id:"nav-tabContent"}},[s("div",{staticClass:"tab-pane fade show active",attrs:{id:"details",role:"tabpanel","aria-labelledby":"list-home-list"}},[s("h6",{staticClass:"text-primary font-weight-bold"},[t._v("商品注意事項")]),s("p",{staticClass:"line-height white-space"},[t._v(t._s(t.oneProduct.content))])]),t._m(1),t._m(2)])])]),s("h4",{staticClass:"text-primary font-weight-bold"},[t._v("相關商品")]),s("div",{staticClass:"row"},t._l(t.relatedCategory.slice(0,3),(function(e){return s("div",{key:e.id,staticClass:"col-md-4 cursor mb-3 mb-md-0",on:{click:function(s){return t.getOneProduct(e.id)}}},[s("div",{staticClass:"card border-0"},[s("div",{staticClass:"card-image bg-cover relatedImg",style:{backgroundImage:"url("+e.imageUrl+")"}}),t._m(3,!0)]),s("div",{staticClass:"text-center text-primary mt-2"},[s("h6",[t._v(t._s(e.title))])])])})),0)])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col"},[s("div",{staticClass:"list-group list-group-horizontal",attrs:{id:"list-tab",role:"tablist"}},[s("a",{staticClass:"list-group-item list-group-item-action active list-group-item-deep h6",attrs:{id:"list-home-list","data-toggle":"list",href:"#details",role:"tab","aria-controls":"home"}},[t._v("注意事項")]),s("a",{staticClass:"list-group-item list-group-item-action list-group-item-deep h6",attrs:{id:"list-profile-list","data-toggle":"list",href:"#order",role:"tab","aria-controls":"profile"}},[t._v("訂購需知")]),s("a",{staticClass:"list-group-item list-group-item-action list-group-item-deep h6",attrs:{id:"list-messages-list","data-toggle":"list",href:"#delivery",role:"tab","aria-controls":"messages"}},[t._v("宅配需知")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-pane fade",attrs:{id:"order",role:"tabpanel","aria-labelledby":"list-profile-list"}},[s("h6",{staticClass:"text-primary font-weight-bold"},[t._v("訂購需知")]),s("ul",{staticClass:"list-inline"},[s("li",{staticClass:"mb"},[t._v("取貨日(到貨日)為訂購日+3天")]),s("li",{staticClass:"mb"},[t._v("門市自取請留意公休日及特殊節日")]),s("li",{staticClass:"mb"},[t._v("食品因保存期限及衛生考量，恕不適用七天鑑賞期。")]),s("li",{staticClass:"mb"},[t._v(" 付款後若需更動訂單（如：改期、取消或調整數量），請於取貨日前三日告知。 ")]),s("li",{staticClass:"text-danger mb font-weight-bold"},[t._v(" 逢節慶期間(如母親節蛋糕、中秋節、新春禮盒等)的商品因採限量預購，訂單成立後無法變更取貨日期，且不接受退換貨，下單前請特別注意。 ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-pane fade",attrs:{id:"delivery",role:"tabpanel","aria-labelledby":"list-messages-list"}},[s("h6",{staticClass:"text-primary font-weight-bold"},[t._v("宅配需知")]),s("p",{staticClass:"line-height"},[t._v(' 宅配一定有風險，下單前請三思，運送過程可能會因車體晃動、路面不平等而有碰撞的狀態，風險須自行承擔，黑貓已公告不受理蛋糕類的毀壞補償，除非嚴重人為因素的變形，黑貓宅配才會視狀況退還"運費"，可以接受者再下單。 ')])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-white related-info d-flex justify-content-center align-items-center"},[s("h6",{staticClass:"font-weight-bold"},[t._v("More info")])])}],r=(s("4de4"),s("7db0"),s("5530")),l=s("2f62"),c={data:function(){return{id:"",num:1}},methods:{getOneProduct:function(t){this.$store.dispatch("getOneProduct",t)},addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,i=s.cart.carts.filter((function(e){return e.product_id===t}));if(i.length>0){var a=i[0],r=a.id,l=a.qty,c=l+e,o=a.product.id;s.$store.dispatch("updateQty",{originCartId:r,originProductId:o,newQty:c})}else s.$store.dispatch("addToCart",{id:t,qty:e})},getCart:function(){this.$store.dispatch("getCart")},getAllProducts:function(){this.$store.dispatch("getAllProducts")},checkFavList:function(t){var e=this,s=e.allProducts.find((function(e){return e.id===t}));if(!e.collected.find((function(e){return e.id===t}))){e.collected.push(s);var i="".concat(s.title," 加入收藏清單中!"),a="warning";e.$store.dispatch("updateMessage",{message:i,status:a})}localStorage.setItem("collectedItems",JSON.stringify(e.collected))},checkFavStatus:function(t){var e=this;return null===e.collected&&(e.collected=[]),!!e.collected.find((function(e){return e.id===t.id}))}},created:function(){this.id=this.$route.params.id,this.getOneProduct(this.id),this.getCart(),this.getAllProducts()},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["oneProduct","cart","allProducts","disable","isLoading","collected"])),{},{relatedCategory:function(){var t=this,e=[];return e=t.allProducts.filter((function(e){return e.title!==t.oneProduct.title&&e.category===t.oneProduct.category})),e.sort((function(){return Math.random()-.5})),e}})},o=c,n=s("2877"),d=Object(n["a"])(o,i,a,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0b1f6c.0b6c3be9.js.map